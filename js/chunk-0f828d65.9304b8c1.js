(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f828d65"],{"415a":function(e,t,a){},"7b35":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("el-card",{staticClass:"article-card",attrs:{"body-style":{color:"red"}}},[t("el-form",{attrs:{inline:""}},[t("el-form-item",{attrs:{"label-width":"80px",label:"关键字"}},[t("el-input",{staticStyle:{width:"188px"},attrs:{placeholder:"根据文章标题搜索"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),t("el-form-item",{attrs:{"label-width":"80px",label:"状态"}},[t("el-select",{model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},[t("el-option",{attrs:{label:"启用",value:"1"}}),t("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.state="",e.title=""}}},[e._v("清除")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.sift()}}},[e._v("搜索")])],1),t("el-form-item",{staticClass:"addButton",attrs:{"label-position":"right"}},[t("el-button",{attrs:{type:"success",size:"small"},on:{click:e.addFunction}},[t("i",{staticClass:"el-icon-edit"}),e._v("新增技巧")])],1)],1),t("el-alert",{staticStyle:{"margin-bottom":"15px"},attrs:{title:"数据一共"+e.$store.state.questionsChoice.articles.counts+"条",type:"info","show-icon":"",closable:!1}}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#fafafa",color:"#909399","border-bottom":"2px solid #e8e8e8"},"row-style":{height:"67px"}}},[t("el-table-column",{attrs:{label:"序号","min-width":"80px","cell-style":{"text-algin":"left"},align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s((e.page-1)*e.pageSize+(a.$index+1)))])]}}])}),t("el-table-column",{attrs:{label:"文章标题","min-width":"400px",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(" "+e._s(a.row.title)+" "),a.row.videoURL?t("el-link",{staticStyle:{"font-size":"18px",color:"#0000ff"},attrs:{type:"primary",icon:"el-icon-film",underline:!1},on:{click:function(t){e.videoShow=!0}}}):e._e()],1),e.videoShow?t("div",{staticClass:"mask"},[t("div",{staticClass:"close-vedio",on:{click:function(t){e.videoShow=!1}}},[t("i",{staticClass:"el-icon-close"})]),t("div",{staticClass:"video"},[t("video",{attrs:{src:a.row.videoURL,width:"800px",height:"600px",controls:"",autoplay:""}})])]):e._e()]}}])}),t("el-table-column",{attrs:{label:"阅读数","min-width":"124px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(a.row.visits))])]}}])}),t("el-table-column",{attrs:{label:"录入人","min-width":"122px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(a.row.username))])]}}])}),t("el-table-column",{attrs:{label:"录入时间","min-width":"122px",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("parseTimeByString")(a.row.createTime)))])]}}])}),t("el-table-column",{attrs:{label:"状态","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1===a.row.state?"已启用":"已禁用"))])]}}])}),t("el-table-column",{attrs:{label:"操作","min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"function"},[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.fn(a)}}},[e._v("预览")]),t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.changeState(a.row.id,a.row.state)}}},[e._v(e._s(0===a.row.state?"启用":"禁用"))]),t("el-link",{attrs:{type:"primary",underline:!1,disabled:1===a.row.state},on:{click:function(t){return e.changeFunction(a)}}},[e._v("修改")]),t("el-link",{attrs:{type:"primary",underline:!1,disabled:1===a.row.state},on:{click:function(t){return e.delFunction(a.row.id)}}},[e._v("删除")])],1)]}}])})],1),e.$store.state.questionsChoice.articles.counts>0?t("div",{staticClass:"Pagination"},[t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30],"page-size":e.pageSize,layout:"  prev, pager,next,sizes,jumper",total:e.$store.state.questionsChoice.articles.counts,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1),t("el-dialog",{attrs:{visible:e.viewShow,title:"预览文章",width:"60%"},on:{"update:visible":function(t){e.viewShow=t}}},[t("div",{staticClass:"addBoxBody"},[t("div",{staticClass:"articleTitle"},[t("h2",[e._v(e._s(e.viewTitle))]),t("span",[e._v(e._s(e._f("parseTimeByString")(e.viewCreateTime)))]),t("span",[e._v(e._s(e.viewUserName))]),t("span",[t("i",{staticClass:"el-icon-view",staticStyle:{"margin-right":"10px"}}),e._v(e._s(e.viewUserVisits)+" ")])]),t("div",{staticClass:"addBoxContent",staticStyle:{"background-color":"#f5f5f5"}},[t("div",{domProps:{innerHTML:e._s(e.viewHtml)}})])])]),t("el-dialog",{attrs:{visible:e.addShow,title:e.formTitle,width:"58%"},on:{"update:visible":function(t){e.addShow=t},close:e.closeDialog}},[t("div",{staticClass:"addShow"},[t("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.addRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[t("el-input",{attrs:{placeholder:"请输入文章标签"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),t("el-form-item",{attrs:{label:"文章内容",prop:"articleBody"}},[t("quill-editor",{attrs:{options:e.options},model:{value:e.formData.articleBody,callback:function(t){e.$set(e.formData,"articleBody",t)},expression:"formData.articleBody"}})],1),t("el-form-item",{attrs:{label:"视频地址"}},[t("el-input",{attrs:{placeholder:"请输入视频地址"},model:{value:e.formData.videoURL,callback:function(t){e.$set(e.formData,"videoURL",t)},expression:"formData.videoURL"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",staticStyle:{display:"flex","justify-content":"end"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.close}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])],1)},s=[],r=a("5530"),n=a("c7eb"),l=a("1da1"),o=a("b775"),c=a("2f62"),u=(a("99af"),function(e){return Object(o["a"])("/articles/".concat(e.id),"put",e)}),d=function(e){return Object(o["a"])("/articles/".concat(e.id),"delete",e)},p=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote"],["code-block","image","link"]],f={data:function(){return{tableData:[],page:1,pageSize:10,title:"",state:"",open:!1,videoShow:!1,viewShow:!1,viewTitle:"",viewCreateTime:"",viewUserName:"",viewUserVisits:"",viewHtml:"",addShow:!1,formTitle:"",articeId:"",formData:{title:"",articleBody:"",videoURL:""},addRules:{title:[{required:!0,message:"请输入文章内容",trigger:"blur"}],articleBody:[{required:!0,message:"请输入文章内容",trigger:"blur"}]},options:{placeholder:"",modules:{toolbar:p}}}},created:function(){var e=this;return Object(l["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getArticleListAsync();case 2:e.tableData=e.$store.state.questionsChoice.articles.ArticleList;case 3:case"end":return t.stop()}}),t)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])("questionsChoice/articles",["getArticleListAsync"])),{},{handleSizeChange:function(e){var t=this;return Object(l["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.page=1,t.pageSize=e,a.next=4,t.getArticleListAsync({page:t.page,pagesize:e});case 4:t.tableData=t.$store.state.questionsChoice.articles.ArticleList;case 5:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(e){var t=this;return Object(l["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.page=e,a.next=3,t.getArticleListAsync({page:e,pagesize:t.pageSize});case 3:t.tableData=t.$store.state.questionsChoice.articles.ArticleList;case 4:case"end":return a.stop()}}),a)})))()},sift:function(){var e=this;return Object(l["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.state){t.next=6;break}return t.next=3,e.getArticleListAsync({page:1,pagesize:e.pageSize,keyword:e.title,state:e.state});case 3:e.tableData=e.$store.state.questionsChoice.articles.ArticleList,t.next=9;break;case 6:return t.next=8,e.getArticleListAsync({page:1,pagesize:e.pageSize,keyword:e.title});case 8:e.tableData=e.$store.state.questionsChoice.articles.ArticleList;case 9:case"end":return t.stop()}}),t)})))()},fn:function(e){this.viewShow=!0,this.viewTitle=e.row.title,this.viewCreateTime=e.row.createTime,this.viewUserName=e.row.username,this.viewUserVisits=e.row.visits,this.viewHtml=e.row.articleBody},addFunction:function(){this.addShow=!0,this.formTitle="新增文章"},changeFunction:function(e){this.addShow=!0,this.formTitle="修改文章",this.formData.title=e.row.title,this.formData.articleBody=e.row.articleBody,this.formData.videoURL=e.row.videoURL,this.formId=e.row.id},closeDialog:function(){this.$refs.formData.resetFields()},submit:function(){var e=this;return Object(l["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("新增文章"!==e.formTitle){t.next=4;break}e.$refs.formData.validate(function(){var t=Object(l["a"])(Object(n["a"])().mark((function t(a){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=14;break}return t.next=3,Object(o["a"])("/articles","post",e.formData);case 3:return e.page=1,t.next=6,e.getArticleListAsync({page:e.page,pagesize:e.pageSize,keyword:e.title});case 6:e.tableData=e.$store.state.questionsChoice.articles.ArticleList,e.addShow=!1,e.$message({message:"操作成功",type:"success"}),e.formData.title="",e.formData.articleBody="",e.formData.videoURL="",t.next=14;break;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=15;break;case 4:if("修改文章"!==e.formTitle){t.next=15;break}return t.next=7,u({id:e.formId,title:e.formData.title,articleBody:e.formData.articleBody,videoURL:e.formData.videoURL});case 7:return t.next=9,e.getArticleListAsync({page:e.page,pagesize:e.pageSize,keyword:e.title});case 9:e.tableData=e.$store.state.questionsChoice.articles.ArticleList,e.addShow=!1,e.$message({message:"操作成功",type:"success"}),e.formData.title="",e.formData.articleBody="",e.formData.videoURL="";case 15:case"end":return t.stop()}}),t)})))()},delFunction:function(e){var t=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(l["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return d({id:e}),t.$message({type:"success",message:"删除成功!"}),a.next=4,t.getArticleListAsync({page:t.page,pagesize:t.pageSize,keyword:t.title});case 4:return t.tableData=t.$store.state.questionsChoice.articles.ArticleList,a.next=7,t.getArticleListAsync({page:t.page,pagesize:t.pageSize,keyword:t.title});case 7:t.tableData=t.$store.state.questionsChoice.articles.ArticleList;case 8:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},changeState:function(e,t){var a=this;return Object(l["a"])(Object(n["a"])().mark((function i(){return Object(n["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==t){i.next=9;break}return i.next=3,Object(o["a"])("/articles/".concat(e,"/1"),"post");case 3:return i.next=5,a.getArticleListAsync({page:a.page,pagesize:a.pageSize,keyword:a.title});case 5:a.tableData=a.$store.state.questionsChoice.articles.ArticleList,a.$message({message:"操作成功",type:"success"}),i.next=15;break;case 9:return i.next=11,Object(o["a"])("/articles/".concat(e,"/0"),"post");case 11:return i.next=13,a.getArticleListAsync({page:a.page,pagesize:a.pageSize,keyword:a.title});case 13:a.tableData=a.$store.state.questionsChoice.articles.ArticleList,a.$message({message:"操作成功",type:"success"});case 15:case"end":return i.stop()}}),i)})))()},close:function(){this.addShow=!1,this.formData.title="",this.formData.articleBody="",this.formData.videoURL=""}})},m=f,h=(a("b6d0"),a("2877")),b=Object(h["a"])(m,i,s,!1,null,"6356eaee",null);t["default"]=b.exports},b6d0:function(e,t,a){"use strict";a("415a")}}]);
//# sourceMappingURL=chunk-0f828d65.9304b8c1.js.map